  <!--
            - PRODUCT GRID
          -->

          <div class="product-main">

            <h2 class="title">Productos</h2>

            <div class="product-grid">

                {% for object in object_list %}
              <div class="showcase">

                <div class="showcase-banner">

                  <img src="{{ object.image.url }}" alt="{{ object.name }}" width="300" class="product-img default">
                  <img src="{{ object.image.url }}" alt="{{ object.name }}" width="300" class="product-img hover">

                    {% if object.offer %}
                  <p class="showcase-badge">{{ object.offer.descuento }}%</p>
                    {% endif %}

                  <div class="showcase-actions">

                   <a  href="{% url 'products:like' object.pk %}" class="btn-action">
                      <ion-icon name="heart-outline"></ion-icon>
                    </a>


                    <a  href="{% url 'products:detail' object.handle %}" class="btn-action">

                      <ion-icon name="eye-outline"></ion-icon>

                    </a>

                    <button class="btn-action">
                      <ion-icon name="repeat-outline"></ion-icon>
                    </button>
    <form action="{% url 'carro:agregar' object.id %}" method="POST">
                      {% csrf_token %}
                    <button type="submit" class="btn-action">
                      <ion-icon name="bag-add-outline"></ion-icon>
                    </button>
    </form>

                  </div>

                </div>

                <div class="showcase-content">


                    {% if object.clasificacion.all %}

              {% for clasi in object.clasificacion.all|slice:":1" %}

                <a href="{% url 'products:list' %}?classification_id={{ clasi.id }}" class="showcase-category">{{ clasi.nombre }}</a>
                    {% endfor %}
                    {% else %}
                     {% if object.clasificaciones_padre.all %}
                             {% for clasi_pa in object.clasificaciones_padre.all|slice:":1" %}

                                 <a href="{% url 'products:list' %}?classification_id_padre={{ clasi_pa.id }}" class="showcase-category">{{ clasi_pa.nombre }}</a>
                         {% endfor %}
                         {% endif %}
                  {% endif %}


                  <a href="{% url 'products:detail' object.handle %}">
                    <h3 class="showcase-title">{{ object.name }}</h3>
                  </a>

                  <div class="showcase-rating">
                          {% for i in "12345"|make_list %}
                              {% with j=i|add:-1 %}

                              {% if i|add:0  <= object.rating_product.average_rating %}
                        <ion-icon name="star"></ion-icon>



                              {% endif %}

                              {% if i|add:0  > object.rating_product.average_rating and j|add:0  < object.rating_product.average_rating  %}
                                      <ion-icon name="star-half"></ion-icon>  <!-- Estrella media -->
                        {% else %}

                                      {% endif %}

                             {% if i|add:0  >= object.rating_product.average_rating and j|add:0  >= object.rating_product.average_rating %}
                              <ion-icon name="star-outline"></ion-icon>
                                  {% endif %}
{% endwith %}
                              {% endfor %}


                      </div>

                  <div class="price-box">

                  <p class="price">${{ object.price }}</p>
    {% if object.offer %}
                  <del>${{ object.offer.precio_viejo }}</del>
                     {% endif %}
                </div>

                </div>

              </div>
                {% endfor %}


            </div>

          </div>

        </div>

      </div>

    </div>

